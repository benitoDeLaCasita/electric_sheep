# -*- mode: ruby -*-
# vi: set ft=ruby :

host "acceptance-container", hostname: "10.0.3.10",
  description: "ElectricSheeps - Container for acceptance testing" # optional

project "mongodb-dump", description: "MongoDB database backup" do

  resource :database, name: "controldb"
  remotely on: "acceptance-container", as: "vagrant" do
    mongodb_dump
    tar_gz
  end

end

project "mysql-dump", description: "MySQL database backup" do

  resource :database, name: "controldb", user: "operator", password: "pseudorandom"
  remotely on: "acceptance-container", as: "vagrant" do
    mysql_dump
    tar_gz
  end

end
